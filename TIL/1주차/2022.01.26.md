## 2022.01.24 ~ 01.25
### *sprint*

* MVC 구조
  ![MVC 구조](https://www.google.com/url?sa=i&url=https%3A%2F%2Fdevbin.kr%2Fweb-mvc-model-view-controller-%25EC%259D%2598-%25EA%25B0%259C%25EB%2585%2590%2F&psig=AOvVaw0WGOUV0dLcZgRsun_YUWAW&ust=1643264839534000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCMC0tdvkzvUCFQAAAAAdAAAAABAJ)

* Node.js mysql 모듈로 bulk insert 하는 방법
    ```jsx
    // Bulk insert 
    const sql = "INSERT INTO customers (name, address) VALUES ?";
    const params = [
        ["John", "Highway 71"],
        ["Peter", "Lowstreet 4"],
        ["Amy", "Apple st 652"],
        ["Hannah", "Mountain 21"],
        ["Michael", "Valley 345"],
        ["Sandy", "Ocean blvd 2"],
        ["Betty", "Green Grass 1"],
        ["Richard", "Sky st 331"],
        ["Susan", "One way 98"],
        ["Vicky", "Yellow Garden 2"],
        ["Ben", "Park Lane 38"],
    ];
    con.query(sql, [params], function (err, result) {
    if (err) throw err;
    console.log("Number of records inserted: " + result.affectedRows);
    });
    ```
    ```jsx
    // Result Object
    {
        fieldCount: 0,
        affectedRows: 14,
        insertId: 0, // Insert로 생성되는 insertId를 PK로 사용하여 조인 테이블에서 FK로 참조할 수 있음
        serverStatus: 2,
        warningCount: 0,
        message: '\'Records:14  Duplicated: 0  Warnings: 0',
        protocol41: true,
        changedRows: 0
    }
    ```

*FK(외래키)가 존재하는 테이블의 경우, 테이블 DELETE 및 TRUNCATE 실행 시, 
 Cannot truncate a table referenced in a foreign key constraint 오류가 발생 
  *해결법

    ```jsx
      SET FOREIGN_KEY_CHECKS = 0; -- Disable foreign key checking. 
      TRUNCATE TABLE [Table_name]; 
      SET FOREIGN_KEY_CHECKS = 1; -- Enable foreign key checking.
    ```


###